<p mat-dialog-title>New Assessment</p>
<form mat-dialog-content ngForm #form="ngForm">
  <mat-form-field appearance="outline" class="margin-top">
    <mat-label>Assessment Name</mat-label>
    <input matInput placeholder="Enter assessment name" name="name" ngModel required>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Available From</mat-label>
    <input matInput [matDatepicker]="picker" placeholder="Choose a date" name="date" ngModel [min]="today" required>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>
  <ngx-file-drop (onFileDrop)="dropped($event)" dropZoneClassName="file-drop-zone"
                 [directory]="false" contentClassName="file-drop-content" #drop>
    <ng-template ngx-file-drop-content-tmp>
      <div *ngIf="!files.length" class="grid drop-template" (click)="drop.openFileSelector()">
        <mat-icon>cloud_upload</mat-icon>
        <span>Drop files here</span>
        <span>or</span>
        <span>Browse</span>
      </div>
      <div class="grid file-list" *ngIf="files.length">
        <span *ngFor="let file of files" class="grid">
         <span>{{file.name}}</span>
         <span>{{(file.size/1024/1024).toFixed(2)+'MB'}}</span>
          <mat-icon (click)="deleteAssessment(file)">delete</mat-icon>
        </span>
      </div>
      <div class="click-area" *ngIf="files.length" (click)="drop.openFileSelector()">
        <span *ngIf="!isComplete">Uploading {{uploadPercentage}}%</span>
      </div>
    </ng-template>
  </ngx-file-drop>
</form>
<div mat-dialog-actions [align]="'end'">
  <button mat-raised-button (click)="createAssessment(form.value)" [disabled]="!form.valid || !isComplete">Save</button>
  <button mat-raised-button (click)="cancel()">Cancel</button>
</div>
